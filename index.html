<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Hijab Landing Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-blue: #3b82f6;
      --secondary-blue: #2563eb;
      --dark-blue: #1d4ed8;
      --success-green: #10b981;
      --danger-red: #ef4444;
      --text-dark: #1e293b;
      --bg-light: #f8fafc;
    }
    body {
      font-family: 'Inter', Arial, sans-serif;
      background: var(--bg-light);
      color: var(--text-dark);
      margin:0; padding:0;
    }
    .container {
      max-width: 1080px;
      margin: 0 auto;
      padding: 24px 10px 40px 10px;
    }
    .header {
      background: linear-gradient(90deg,#3b82f6 0,#1d4ed8 100%);
      border-radius: 20px;
      text-align: center;
      padding: 32px 12px 24px 12px;
      color: #fff;
      margin-bottom: 32px;
      position: relative;
    }
    .header .emoji {
      font-size: 60px;
      animation: float 3s ease-in-out infinite;
      display: block;
    }
    @keyframes float {
      0%,100%{transform:translateY(0);}
      50%{transform:translateY(-10px);}
    }
    .header-title {
      font-size: 2rem;
      font-weight: 700;
      letter-spacing: -0.5px;
      margin-bottom: 7px;
    }
    .header-subtitle {
      font-size: 1.13rem;
      opacity: 0.96;
      margin-bottom: 0;
    }
    .main {
      display: flex;
      gap: 28px;
      align-items: flex-start;
    }
    @media (max-width:900px) {.main{flex-direction:column;}}
    .form-section {
      flex:1.1;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 4px 18px #3b82f611;
      padding: 22px 16px 18px 16px;
      margin-bottom: 14px;
      min-width: 320px;
      max-width: 410px;
    }
    .form-section label {
      font-weight:600; font-size:.96em; display:block; margin-bottom:3px;
    }
    .form-section input, .form-section textarea {
      width:100%; font-family:inherit;
      border:1.5px solid #e0e7ef; border-radius:7px;
      padding:8px 11px; margin-bottom:11px;
      font-size:1em; background: #f8fafc;
      transition: border .16s;
    }
    .form-section input:focus, .form-section textarea:focus {border-color:var(--primary-blue);background:#fff;}
    .form-section textarea {min-height:52px;resize:vertical;}
    .form-section .color-row {display:flex;gap:6px;margin-bottom:7px;}
    .form-section .color-row input[type=text]{width:100px;}
    .form-section .color-row input[type=url]{width:140px;}
    .form-section .color-row .remove-btn{
      background:var(--danger-red);color:#fff;border:none;border-radius:5px;padding:0 12px;font-size:1.1em;cursor:pointer;
    }
    .form-section .add-color-btn{
      background:var(--success-green);color:#fff;border:none;border-radius:5px;padding:6px 18px;margin-top:5px;cursor:pointer;font-weight:600;
    }
    .form-section .section-title{font-weight:700;padding-top:7px;font-size:1.04em;color:var(--dark-blue);}
    .generate-btn{
      background:linear-gradient(90deg,#3b82f6 0,#1d4ed8 100%);
      color:#fff;font-weight:700;font-size:1.08em;padding:12px 0;border:none;border-radius:8px;width:100%;margin-top:8px;
      cursor:pointer;box-shadow:0 4px 18px #3b82f616;transition:transform .16s;
    }
    .generate-btn:hover{transform:translateY(-3px);}
    .preview-section {
      flex:1;
      max-width: 420px;
      min-width:280px;
      text-align:center;
      position:sticky; top:30px;
    }
    .phone-mockup {
      width:330px;max-width:96vw;margin:0 auto;
      padding:22px 0 12px 0; position:relative;
      display:flex;justify-content:center;
      animation: phoneFloat 4.2s infinite ease-in-out;
    }
    @keyframes phoneFloat{0%,100%{transform:translateY(0);}50%{transform:translateY(-8px);}}
    .phone-frame {
      width:288px;height:570px;background:#111;border-radius:28px;box-shadow:0 12px 38px #0002;
      border: 6px solid #fff;overflow:hidden;position:relative;
      display:flex;align-items:flex-start;justify-content:center;
    }
    .phone-frame:before{
      content:"";display:block;position:absolute;left:50%;top:9px;transform:translateX(-50%);
      width:60px;height:6px;border-radius:4px;background:#e6e6e6;opacity:.7;
    }
    .preview-html{
      width:100%;height:552px;background:#fff;border-radius:24px;box-shadow:0 3px 16px #1e293b0c;
      overflow:hidden;border:none;display:block;margin-top:6px;font-size:13.5px;
    }
    .output-section{margin-top:30px;text-align:left;background:#f3f9ff;border-radius:9px;padding:13px 0 2px 0;}
    .output-section pre{white-space:pre-wrap;word-break:break-all;overflow-x:auto;background:transparent;font-family:monospace;font-size:1em;margin:0;padding:10px 16px;color:#1e293b;border-radius:6px;}
    .copy-btn{background:var(--primary-blue);color:#fff;font-weight:600;border:none;border-radius:7px;padding:8px 20px;font-size:.99em;cursor:pointer;float:right; margin:4px 16px 8px 0;}
    .copy-btn:hover{background:var(--dark-blue);}
    @media (max-width:700px){
      .container{padding:6px 2px;}
      .main{gap:9px;}
      .form-section,.preview-section{padding:10px 3px;min-width:0;max-width:100%;}
      .phone-mockup{width:99vw;}
      .phone-frame{width:99vw;height:340px;}
      .preview-html{height:270px;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <span class="emoji" aria-label="Hijab">ðŸ§•</span>
      <div class="header-title">Hijab Landing Generator</div>
      <div class="header-subtitle">Isi data produk hijabmu &amp; dapatkan landing page siap upload!</div>
    </div>
    <div class="main">
      <!-- FORM -->
      <form class="form-section" id="generator-form" autocomplete="off" onsubmit="return false;">
        <div class="section-title">Info Produk</div>
        <label>Nama Brand/Toko</label>
        <input type="text" id="brandName" value="HIJAB PREMIUM" required>
        <label>Nama Produk</label>
        <input type="text" id="productName" value="Eliza Scarf - Hijab Segiempat Premium" required>
        <label>Harga (Rp)</label>
        <input type="number" id="productPrice" value="300000" min="1" required>
        <label>Link Order Online</label>
        <input type="url" id="orderLink" placeholder="https://orderonline.id/toko-kamu" required>
        <label>Gambar Slider <small>(max 3 URL, 1 baris per url)</small></label>
        <textarea id="sliderImages" rows="3">https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=800&q=80
https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=800&q=80
https://images.unsplash.com/photo-1524253482453-3fed8d2fe12b?auto=format&fit=crop&w=800&q=80</textarea>
        <div class="section-title">Varian Warna</div>
        <div id="colorList"></div>
        <button type="button" class="add-color-btn" onclick="addColor()">+ Warna</button>
        <div class="section-title">Detail</div>
        <label>Deskripsi</label>
        <textarea id="productDesc" rows="4">Hijab premium bahan voal lembut, motif eksklusif, finishing rapi. Nyaman dipakai, mudah dibentuk, anti kusut. Cocok untuk tampilan syar'i modern & elegan.</textarea>
        <label>Material</label>
        <input type="text" id="material" value="Voal Premium">
        <label>Ukuran</label>
        <input type="text" id="size" value="115 x 115 cm">
        <label>Berat</label>
        <input type="text" id="weight" value="300 gram">
        <button type="button" class="generate-btn" onclick="generateLandingPage()">Generate Landing Page</button>
      </form>
      <!-- PREVIEW -->
      <div class="preview-section">
        <div class="phone-mockup">
          <div class="phone-frame">
            <iframe id="previewHtml" class="preview-html" loading="lazy" title="Preview"></iframe>
          </div>
        </div>
      </div>
    </div>
    <!-- OUTPUT -->
    <div class="output-section" id="outputSection" style="display:none;">
      <button class="copy-btn" onclick="copyToClipboard()">Salin Kode</button>
      <pre id="outputHtml"></pre>
    </div>
  </div>
  <script>
    // --- Default color variants
    let colorVariants = [
      {name:"Rose Smoke",thumb:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=facearea&w=60&h=60&q=80",image:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400&q=80"},
      {name:"Sky Blue",thumb:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=facearea&w=60&h=60&q=80",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80"}
    ];
    function renderColorVariants(){
      const el=document.getElementById('colorList');
      el.innerHTML='';
      colorVariants.forEach((v,i)=>{
        el.innerHTML+=`
        <div class="color-row">
          <input type="text" placeholder="Nama" value="${v.name}" onchange="updateColor(${i},'name',this.value)">
          <input type="url" placeholder="Thumb 60x60" value="${v.thumb}" onchange="updateColor(${i},'thumb',this.value)">
          <input type="url" placeholder="Gambar 400x600" value="${v.image}" onchange="updateColor(${i},'image',this.value)">
          <button type="button" class="remove-btn" onclick="removeColor(${i})">&times;</button>
        </div>
        `;
      });
    }
    function updateColor(i,key,val){colorVariants[i][key]=val;updatePreview();}
    function addColor(){
      colorVariants.push({name:'',thumb:'',image:''});
      renderColorVariants();updatePreview();
    }
    function removeColor(i){
      colorVariants.splice(i,1);
      renderColorVariants();updatePreview();
    }

    function getFormData(){
      return {
        brandName:document.getElementById('brandName').value.trim()||'HIJAB PREMIUM',
        productName:document.getElementById('productName').value.trim()||'Eliza Scarf - Hijab Segiempat Premium',
        productPrice:parseInt(document.getElementById('productPrice').value,10)||300000,
        orderLink:document.getElementById('orderLink').value.trim(),
        sliderImages:(document.getElementById('sliderImages').value||'').split('\n').map(x=>x.trim()).filter(Boolean).slice(0,3),
        colorVariants:JSON.parse(JSON.stringify(colorVariants)),
        productDesc:document.getElementById('productDesc').value.trim(),
        material:document.getElementById('material').value.trim(),
        size:document.getElementById('size').value.trim(),
        weight:document.getElementById('weight').value.trim()
      }
    }
    function updatePreview(){
      const data=getFormData();
      document.getElementById('previewHtml').srcdoc=generateLandingHTML(data,true);
    }
    // --- Output HTML ---
    function generateLandingPage(){
      const data=getFormData();
      document.getElementById('outputHtml').textContent=generateLandingHTML(data,false);
      document.getElementById('outputSection').style.display='';
      window.scrollTo({top:document.getElementById('outputSection').offsetTop-40,behavior:'smooth'});
    }
    function copyToClipboard(){
      navigator.clipboard.writeText(document.getElementById('outputHtml').textContent).then(()=>{
        const btn=document.querySelector('.copy-btn');
        btn.textContent="Tersalin!";
        setTimeout(()=>btn.textContent="Salin Kode",1200);
      });
    }
    // --- Code Template ---
    function generateLandingHTML(data,preview){
      // Escape for preview
      const esc = s => s.replace(/[<>&]/g, c=>({'<':'&lt;','>':'&gt;','&':'&amp;'})[c]);
      const sliderImgs = data.sliderImages.length?data.sliderImages:[
        "https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=800&q=80",
        "https://images.unsplash.com/photo-1524253482453-3fed8d2fe12b?auto=format&fit=crop&w=800&q=80"
      ];
      const variants = data.colorVariants&&data.colorVariants.length?data.colorVariants:colorVariants;
      function formatRp(n){return 'Rp '+n.toLocaleString('id-ID');}
      // Color picker
      const colorHTML=variants.map((v,i)=>`<button class="c-thumb${i===0?' active':''}" style="background-image:url('${esc(v.thumb)}')" data-i="${i}" aria-label="${esc(v.name)}"></button>`).join('');
      return `<!DOCTYPE html>
<html lang="id"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>${esc(data.productName)} | ${esc(data.brandName)}</title>
<style>
body{margin:0;padding:0;font-family:'Inter',Arial,sans-serif;background:#f8fafc;}
.lp-container{max-width:460px;margin:0 auto;background:#fff;border-radius:22px;box-shadow:0 4px 20px #3b82f61b;padding:0 0 28px 0;}
.lp-header{background:linear-gradient(90deg,#3b82f6 0,#1d4ed8 100%);border-radius:0 0 22px 22px;padding:30px 18px 18px 18px;text-align:center;}
.lp-header .brand{color:#fff;font-size:1.04em;font-weight:700;margin-bottom:2px;}
.lp-header .title{color:#fff;font-size:1.21em;font-weight:800;margin-bottom:6px;}
.badge{display:inline-block;font-size:.81em;font-weight:700;padding:3.5px 13px;border-radius:13px;margin-right:6px;margin-bottom:2px;color:#fff;background:linear-gradient(90deg,#10b981 0,#3b82f6 100%);letter-spacing:.02em;}
.badge-blue{background:linear-gradient(90deg,#2563eb 0,#3b82f6 100%);}
.badge-new{background:linear-gradient(90deg,#f59e42 0,#3b82f6 100%);}
.slider{position:relative;width:100%;margin:0 auto;height:230px;overflow:hidden;border-radius:14px;background:#e7f2ff;box-shadow:0 2px 14px #3b82f61c;margin-top:-30px;}
.slider-imgs{width:100%;height:230px;display:flex;transition:transform .4s cubic-bezier(.56,.03,.39,.96);}
.slider-imgs img{width:100%;height:230px;object-fit:cover;background:#f3f7fa;user-select:none;}
.slider-dot-row{text-align:center;margin-top:-22px;position:relative;z-index:2;}
.slider-dot{width:11px;height:11px;border-radius:50%;background:#c7e1fa;border:none;display:inline-block;margin:0 3px;cursor:pointer;transition:background .13s;}
.slider-dot.active{background:#3b82f6;}
.c-picker{display:flex;gap:10px;justify-content:center;margin:19px 0 0 0;}
.c-thumb{width:32px;height:32px;border-radius:7px;border:2.1px solid #e7e7e7;background-size:cover;background-position:center;cursor:pointer;transition:border .12s;}
.c-thumb.active{border:2.1px solid #3b82f6;}
.lp-product{padding:0 12px;margin-top:21px;}
.lp-title{font-size:1.07em;font-weight:700;margin:10px 0 3px 0;}
.lp-price{font-size:1.01em;font-weight:700;color:#3b82f6;margin-bottom:7px;}
.promo{background:linear-gradient(90deg,#2563eb 0,#3b82f6 100%);color:#fff;border-radius:7px;font-size:.97em;font-weight:600;padding:7px 11px;display:inline-block;margin:11px 0 5px 0;}
.spec{width:100%;border-collapse:collapse;margin:6px 0 8px 0;font-size:.97em;}
.spec td{padding:4px 0;color:#475569;vertical-align:top;}
.spec .sp-l{font-weight:600;width:32%;color:#2563eb;}
.lp-desc{margin:7px 0 4px 0;font-size:.98em;color:#374151;line-height:1.6;white-space:pre-line;}
.qty-row{display:flex;align-items:center;gap:7px;margin:16px 0 12px 0;}
.qty-btn{width:29px;height:29px;border-radius:7px;border:none;background:#f1f5f9;color:#3b82f6;font-size:1.1em;font-weight:700;cursor:pointer;}
.qty-btn:hover{background:#3b82f6;color:#fff;}
.qty-input{width:35px;text-align:center;border:1.3px solid #e2e8f0;border-radius:6px;height:29px;font-size:1em;color:#1e293b;background:#fff;margin:0 1px;}
.order-btn{display:block;width:100%;background:linear-gradient(90deg,#3b82f6 0,#1d4ed8 100%);color:#fff;font-weight:700;font-size:1.07em;padding:12px 0;border:none;border-radius:10px;margin:13px 0 0 0;cursor:pointer;text-align:center;text-decoration:none;}
.order-btn:hover{background:linear-gradient(90deg,#1d4ed8 0,#3b82f6 100%);}
@media(max-width:500px){.lp-container{max-width:99vw;border-radius:0;}.slider,.slider-imgs img{height:140px;}.lp-header{padding:17px 3px 8px 3px;}.lp-product{padding:0 3px;}}
</style>
</head><body>
<div class="lp-container">
  <div class="lp-header">
    <div class="brand">${esc(data.brandName)}</div>
    <div class="title">${esc(data.productName)}</div>
    <div>
      <span class="badge">Ada Stok</span>
      <span class="badge badge-blue">Premium</span>
      <span class="badge badge-new">New Arrival</span>
    </div>
  </div>
  <div class="slider" id="slider">
    <div class="slider-imgs" id="sliderImgs">
      ${sliderImgs.map((url,i)=>`<img src="${esc(url)}" alt="Hijab ${i+1}" draggable="false">`).join('')}
    </div>
    <div class="slider-dot-row" id="sliderDots">
      ${sliderImgs.map((_,i)=>`<button class="slider-dot${i===0?' active':''}" data-i="${i}"></button>`).join('')}
    </div>
  </div>
  <div class="c-picker" id="cPicker">
    ${colorHTML}
  </div>
  <div class="lp-product">
    <div class="lp-title">${esc(data.productName)}</div>
    <div class="lp-price">${formatRp(data.productPrice)}</div>
    <div class="promo">Diskon spesial &amp; ready stock! Order sekarang ðŸšš</div>
    <div class="qty-row">
      <button class="qty-btn" id="qtyMinus">-</button>
      <input type="number" id="qtyInput" class="qty-input" value="1" min="1" max="20" aria-label="Jumlah">
      <button class="qty-btn" id="qtyPlus">+</button>
    </div>
    <table class="spec"><tr><td class="sp-l">Material</td><td>${esc(data.material)}</td></tr>
    <tr><td class="sp-l">Ukuran</td><td>${esc(data.size)}</td></tr>
    <tr><td class="sp-l">Berat</td><td>${esc(data.weight)}</td></tr>
    <tr><td class="sp-l">Varian</td><td>${variants.map(v=>esc(v.name)).join(', ')}</td></tr></table>
    <div class="lp-desc">${esc(data.productDesc)}</div>
    <a href="${esc(data.orderLink)}" target="_blank" rel="noopener" class="order-btn" id="orderBtn">Pesan Sekarang</a>
  </div>
</div>
<script>
let imgLen=${sliderImgs.length},cur=0,timer;
function showSlide(i){
  cur=i;document.getElementById('sliderImgs').style.transform='translateX('+-i*100+'%)';
  document.querySelectorAll('.slider-dot').forEach((d,idx)=>d.classList.toggle('active',idx===i));
}
document.querySelectorAll('.slider-dot').forEach((dot,i)=>{dot.onclick=()=>{showSlide(i);}});
function nextSlide(){showSlide((cur+1)%imgLen);}
function startSlider(){if(timer)clearInterval(timer);timer=setInterval(nextSlide,4500);}
startSlider();
document.getElementById('slider').addEventListener('touchstart',e=>{window.sx=e.touches[0].clientX;});
document.getElementById('slider').addEventListener('touchend',e=>{
  let dx=(e.changedTouches[0].clientX-window.sx);if(Math.abs(dx)>40){showSlide(dx>0?(cur-1+imgLen)%imgLen:(cur+1)%imgLen);startSlider();}
});
let cBtns=document.querySelectorAll('.c-thumb');
cBtns.forEach((b,i)=>b.onclick=()=>{cBtns.forEach(x=>x.classList.remove('active'));b.classList.add('active');});
let qty=document.getElementById('qtyInput');
document.getElementById('qtyPlus').onclick=()=>{qty.value=Math.min(20,+qty.value+1);};
document.getElementById('qtyMinus').onclick=()=>{qty.value=Math.max(1,+qty.value-1);};
</script>
</body></html>`;
    }
    // --- Live update binding
    ['brandName','productName','productPrice','orderLink','sliderImages','productDesc','material','size','weight']
      .forEach(id=>{document.getElementById(id).addEventListener('input',updatePreview);});
    renderColorVariants();updatePreview();
  </script>
</body>
</html>
